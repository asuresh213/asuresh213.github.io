<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="In this post, I will introduce some elements of recursive and dynamic programming and showcase maybe a couple examples. This was intended to be a section on A fun problem (problem 2), but I soon reali">
<meta property="og:type" content="article">
<meta property="og:title" content="A crash course on recursive and dynamic programming">
<meta property="og:url" content="http://example.com/2021/05/14/dynamic/index.html">
<meta property="og:site_name" content="Arun Suresh">
<meta property="og:description" content="In this post, I will introduce some elements of recursive and dynamic programming and showcase maybe a couple examples. This was intended to be a section on A fun problem (problem 2), but I soon reali">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://asuresh213.github.io/2021/05/14/dynamic/plot1.png">
<meta property="og:image" content="http://asuresh213.github.io/2021/05/14/dynamic/joke3.png">
<meta property="article:published_time" content="2021-05-14T23:56:24.000Z">
<meta property="article:modified_time" content="2021-05-16T00:58:06.712Z">
<meta property="article:author" content="Arun Suresh">
<meta property="article:tag" content="Programming">
<meta property="article:tag" content="General Math">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://asuresh213.github.io/2021/05/14/dynamic/plot1.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>A crash course on recursive and dynamic programming</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" "Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="http://github.com/asuresh213">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post " href="/2021/05/23/problem-3/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post " href="/2021/05/11/problem-2/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top " href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post " href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2021/05/14/dynamic/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2021/05/14/dynamic/&text=A crash course on recursive and dynamic programming"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2021/05/14/dynamic/&title=A crash course on recursive and dynamic programming"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2021/05/14/dynamic/&is_video=false&description=A crash course on recursive and dynamic programming"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=A crash course on recursive and dynamic programming&body=Check out this article: http://example.com/2021/05/14/dynamic/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2021/05/14/dynamic/&title=A crash course on recursive and dynamic programming"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2021/05/14/dynamic/&title=A crash course on recursive and dynamic programming"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2021/05/14/dynamic/&title=A crash course on recursive and dynamic programming"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2021/05/14/dynamic/&title=A crash course on recursive and dynamic programming"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2021/05/14/dynamic/&name=A crash course on recursive and dynamic programming&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2021/05/14/dynamic/&t=A crash course on recursive and dynamic programming"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Recursive-programming"><span class="toc-number">1.</span> <span class="toc-text">Recursive programming</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Dynamic-Programming"><span class="toc-number">2.</span> <span class="toc-text">Dynamic Programming</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercises"><span class="toc-number">3.</span> <span class="toc-text">Exercises</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        A crash course on recursive and dynamic programming
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Arun Suresh</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2021-05-14T23:56:24.000Z" itemprop="datePublished">2021-05-14</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/General-Math/" rel="tag">General Math</a>, <a class="tag-link-link" href="/tags/Programming/" rel="tag">Programming</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>In this post, I will introduce some elements of recursive and dynamic programming and showcase maybe a couple examples. This was intended to be a section on <a target="_blank" rel="noopener" href="https://asuresh213.github.io/2021/05/11/problem-2/">A fun problem (problem 2)</a>, but I soon realized that talking about these techniques could get out of hand real fast. And not talking about them would be a bummer. So I decided to make this dedicated post to introduce Dynamic programming in a more friendly way.</p>
<h2 id="Recursive-programming"><a href="#Recursive-programming" class="headerlink" title="Recursive programming"></a>Recursive programming</h2><p>If you are mathematically inclined, you probably already know what recursion is. We have all seen and experienced recursion in many different areas of mathematics. Fundamentally, a recursive problem is one where your $n^{th}$ step in solving the problem relies on the solutions up until the $(n-1)^{th}$ step. This can be seen everywhere, from generating the Fibonacci numbers all the way to numerically solving ODEs/PDEs and much more than that! If we boil it all down to sequences, which is really what numerical analysis is all about (in some sense), a recursive problem is one where we have $$y_{n+1} = g(y_1, \dots, y_n)$$ where $g$ is some function.</p>
<p>The go-to-example for recursive programming is the generating the Fibonacci numbers. The Fibonacci numbers are defined via $$F_1 = F_2 = 1 \quad \text{ and } \quad F_n = F_{n-1}+F_{n-2} \quad \text{ for all } n \geq 2$$</p>
<p>So in order to keep up tradition, here is a function (implemented via recursion) that returns the $n^{th}$ Fibonacci number</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        ans = fib(n-<span class="number">1</span>) + fib(n-<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<p>This is a recursive program because at every step, we simply call the parent function again to compute <code>fib(n-1)</code> and <code>fib(n-2)</code>. In all honesty, this is a terrible program because it runs in exponential time! In fact the program takes over 10 minutes to calculate <code>fib(150)</code> <sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>.</p>
<p>The reason for this is because there are way too many overlapping calculations that we are needlessly repeating! For example when calculating <code>fib(5)</code>, we have to calculate <code>fib(3)</code> twice – once in the recursive calls resulting from <code>fib(n-1)</code> and another time in the recursive calls resulting from <code>fib(n-2)</code>.</p>
<p>In fact, for higher $n$ values, the overlap exponentially grows. Because <code>fib(n-2)</code> is computed twice, <code>fib(n-3)</code> is computed thrice and so on. In fact, <a href="#Exercises"><font style="color:Dodgerblue;"><strong>Exercise 1:</strong></font></a> presents an interesting (not very difficult) question you can try and prove.</p>
<p>So we need to fix this mess, and that’s exactly why we need dynamic programming. But before we move on to Dynamic programming (having shown recursion in very bad light); let us look at a nice example to acknowledge how amazing recursion really is.</p>
<p>Here is a nice recursive program that generates <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Sierpi%C5%84ski_triangle">Sirprinski’s triangle</a>. The code snippet below is written in Python and it uses Python’s Tkinter graphics library to animate the layers as they are drawn in.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># given two coordinates (as complex numbers) compute midopoint.</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">midpt</span>(<span class="params">x1, x2</span>):</span></span><br><span class="line">    x1_new = <span class="built_in">abs</span>((x2.real + x1.real)/<span class="number">2</span>)</span><br><span class="line">    y1_new = <span class="built_in">abs</span>((x2.imag + x1.imag)/<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">complex</span>(x1_new, y1_new)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Draw</span>(<span class="params">layers, v1, v2, v3</span>):</span></span><br><span class="line">    <span class="comment"># layers: number of layers of the Sirpinski triangle we are drawing</span></span><br><span class="line">    <span class="comment"># v1: Top vertex of the triangle as a complex number</span></span><br><span class="line">    <span class="comment"># v2: Bottom (bot.) left vertex of the triangle as a complex number</span></span><br><span class="line">    <span class="comment"># v3: Bottom (bot.) right vertex of the triangle as a complex number</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(layers &gt; <span class="number">0</span>):</span><br><span class="line">        v1_new = midpt(v2, v1) <span class="comment"># calculate midpoint of side v1-v2</span></span><br><span class="line">        v2_new = midpt(v3, v2) <span class="comment"># calculate midpoint of side v2-v3</span></span><br><span class="line">        v3_new = midpt(v1, v3) <span class="comment"># calculate midpoint of side v3-v1</span></span><br><span class="line">        <span class="comment"># connect the midpoints</span></span><br><span class="line">        canvas.create_polygon(v1_new.real, v1_new.imag,</span><br><span class="line">                              v2_new.real, v2_new.imag,</span><br><span class="line">                              v3_new.real, v3_new.imag,</span><br><span class="line">                              outline=<span class="string">&quot;white&quot;</span>, width=<span class="number">2</span>)</span><br><span class="line">        <span class="comment"># reduce the number of layers.</span></span><br><span class="line">        layers -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        Draw(layers, v1, v1_new, v3_new) <span class="comment"># draw the smaller upper triangle</span></span><br><span class="line">        Draw(layers, v1_new, v2, v2_new) <span class="comment"># draw the smaller bot. left triangle</span></span><br><span class="line">        Draw(layers, v3_new, v2_new, v3) <span class="comment"># draw the smaller bot. right triangle</span></span><br><span class="line">        root.update() <span class="comment"># update the drawing</span></span><br><span class="line">        time.sleep(<span class="number">0.01</span>) <span class="comment"># slow down so I can watch</span></span><br></pre></td></tr></table></figure>

<p>Here is the output when <code>layers = 6</code>.</p>
<video class="trial" autoplay loop muted="true"><source type="video/mp4" src="http://asuresh213.github.io/2021/05/14/dynamic/sirpinsky.mp4">Your browser does not support the video tag.</video>

<p>Now how is this working?</p>
<p>We start by passing the vertices of the main triangle $v_1$, $v_2$ and $v_3$ as complex numbers. Now for each side of the triangle, we compute its midpoints $v_{1_{new}}, v_{2_{new}}$ and $v_{3_{new}}$ and we connect all the midpoints to draw our smaller triangle. Now we have drawn our first layer. Now comes the fun bit.</p>
<p>We consider the upper smaller triangle formed by vertices $v_1, v_{1_{new}}$ and $v_{3_{new}}$ and we treat it as our main problem, so we pass those vertices into the <code>Draw</code> function. But then, inside this second call, we encounter another “upper” <code>Draw</code> function call, and then once more inside that call and so on. So we draw all the upper smaller triangles recursively. Notice that with each recursion, the layers value is going down. So when we hit <code>layers = 0</code>, we will no longer make new calls. This means, after drawing the smaller and smaller upper triangles six times, we return <code>null</code> and we go back one step.</p>
<p>In this step <code>layers = 1</code> (meaning we are currently treating the $5^{th}$ triangle above the middle one as our main triangle), and we get to the second “bot. left” <code>Draw</code> function that draws the smaller bottom left triangles. We only have capacity for one triangle (because <code>layers = 1</code> for this sub-problem) so that gets drawn and then we return back to the previous function call where <code>layers = 1</code> again and then we invoke the third “bot. right” <code>Draw</code> function that draws the smaller bottom right triangles. We still have only one layer capacity, so that one triangle is drawn to the  bottom right of that triangle and we return to the main triangle.</p>
<p>Now we have invoked all three <code>Draw</code> functions, so we are going one layer down, so <code>layers = 2</code> now – meaning we are currently treating the $4^{th}$ triangle above the middle as our main triangle and then we invoke the second draw function there (remember the first one was already invoked as we were going up). So we move to the bottom left of the main triangle (of this sub-problem), draw a new triangle, and repeat the process again for this new triangle (going up, going bottom left, and going bottom right) exactly once before returning to the main triangle. And then we go bottom right, and repeat the same. Then we move a step down.</p>
<p>We continue doing this until we get to the middle triangle of the main figure. Then we repeat all of the above to the main bottom left and bottom right sub-triangles of our main triangle, and we have our fractal!</p>
<p>Crazy how 3 simple lines of code can create this much complexity! There is a small delay in drawing the main chain of triangles because I am not updating the animation for any of the first sequence of nested recursions (and it’s probably too late to do that now anyway).</p>
<p>Unrelated: There is this really efficient and amazing way, called <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=kbKtFN71Lf">the chaos game</a>, to draw the Sirprinski triangle that doesn’t involve iteratively drawing triangles. Here’s <a target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCvjgXvBlbQiydffZU7m1_aw">Coding train</a> implementing the chaos game in p5js: <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=7gNzMtYo9n4">Part 1</a>, <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=A0NHGTggoOQ">Part 2</a>.</p>
<h2 id="Dynamic-Programming"><a href="#Dynamic-Programming" class="headerlink" title="Dynamic Programming"></a>Dynamic Programming</h2><p>Dynamic programming is just recursive programming but with this additional thing called <em>memoization</em>. Memoization is a way of keeping track of previous results so that when we encounter the same sub-problem more than once, all we have to do is read-off the answer that we have already stored. The go-to-example for dynamic programming is the generating the Fibonacci numbers <em>efficiently</em>.</p>
<p>So in order to keep up tradition, here is a function (implemented via DP) that returns the $n^{th}$ Fibonacci number</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span>(<span class="params">memo, n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> n <span class="keyword">in</span> memo:</span><br><span class="line">        <span class="keyword">return</span> memo[n]</span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">2</span>:</span><br><span class="line">        memo[n] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        memo[n] = fib(memo, n-<span class="number">1</span>) + fib(memo, n-<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> memo[n]</span><br><span class="line"></span><br><span class="line">memo = <span class="built_in">dict</span>([])</span><br><span class="line"><span class="built_in">print</span>(fib(memo, <span class="number">150</span>))</span><br></pre></td></tr></table></figure>
<p>The idea is simple, you start with the base case, where if $n=1$ or $n=2$ you return $1$. Then for every time you calculate a new Fibonacci number, you store it in your memo and pass that memo along to the next recursive function call. Now instead of calculating <code>fib</code> for the same sub-problem more than once, we simply read it off our memo and all of a sudden, we get really fast convergence! In interpreted python the above code terminates in 0.248 seconds whereas the recursive Fibonacci algorithm without memoization took several orders of magnitude longer!</p>
<p>Here are a couple more examples that doesn’t look recursive, but are just Dynamic Programming in disguise! Say for example we would like to calculate the number of ways to choose $k$ elements from a set of $n$ elements such that the order in which we pick them matters. Anyone with a vague background in probability, combinatorics or statistics knows that this is simply given by<br>$$^nP_k = \frac{n!}{(n-k)!}$$<br>Here’s an efficient way $\left(\mathcal{O}(n)\right)$ of calculating $^nP_k$ via DP.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nPk</span>(<span class="params">n, k</span>):</span></span><br><span class="line">a = [<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n + <span class="number">1</span>)]  <span class="comment"># array to store factorials</span></span><br><span class="line"></span><br><span class="line">a[<span class="number">0</span>] = <span class="number">1</span> <span class="comment"># 0! = 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">    a[i] = i * a[i - <span class="number">1</span>] <span class="comment"># calculating i! using (i-1)! since i! = i(i-1)!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># P(n, k) = n!/(n-k)!</span></span><br><span class="line"><span class="keyword">return</span> <span class="built_in">int</span>(fact[n] / fact[n - k])</span><br></pre></td></tr></table></figure>
<p>Here, we are not calling the function time and again, but for every new factorial computation, we simply make use of the value that was previously stored the <code>a</code> array. This means we only have to loop through our array once, and so we achieve our desired result in linear time!</p>
<p>The last example I plan to showcase is also a very simple technique that doesn’t look like dynamic programming at all, but in all respects is. It is also similar in spirit to the previous example.</p>
<p>Say we have an ODE given by $y’(t) = f(t, y(t))$ where $f$ is a “nice” function from $[0,T] \times \mathbb{R} \to \mathbb{R}$ with $y(0) = \alpha$ that we would like to numerically solve. This means we want to plot the solution $y(t)$ between $[0,T]$. Solving this IVP can and should be done using Dynamic programming. There are a plethora of methods out there that solves ODEs (I have an entire <a target="_blank" rel="noopener" href="https://github.com/asuresh213/numeripy">python library</a> dedicated to numerical ODE solvers). In this example we will only look at the simplest one, which is the Euler’s method.</p>
<p>In spirit, what the method does is as follows. We take the interval, and we discretize it into small portions. Notice that for any $t \in [0,T]$ and $h$ small enough we have $$y’ \approx \frac{y(t+h) - y(t)}{h} \implies y(t+h) = y(t) + hy’(t) = y(t) + hf(t, y(t))$$<br>Since the interval is discretized, we also discretize our problem as<br>$$y_{k+1} = y_{k} + hf(t, y_n)$$<br>So we start with $y_0 = \alpha$ and we can use this iteratively to solve for $y$ at all the discretized points in $[0,T]$.</p>
<p>Here’s a sample code for solving $y’(t) = -\sin(t)$, with the initial condition $y(0)=1.$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">t, y</span>):</span></span><br><span class="line">    <span class="keyword">return</span> -np.sin(t)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">euler</span>(<span class="params">a, b, alpha, h</span>):</span></span><br><span class="line">    y = [alpha] <span class="comment"># solution array</span></span><br><span class="line">    t = np.arange(a,b, h) <span class="comment"># time axis</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> t:</span><br><span class="line">        y.append(y[-<span class="number">1</span>] + h*f(i, y[-<span class="number">1</span>])) <span class="comment"># compute y_&#123;k+1&#125; using y_k</span></span><br><span class="line">    t = np.append(t,b) <span class="comment"># append final t value b/c np.arange only provides [a,b)</span></span><br><span class="line">    <span class="keyword">return</span> t, y</span><br></pre></td></tr></table></figure>

<p>The core idea is very similar to the previous example. We compute $y_k$, we append it to the $y$ array, and use it in the next iteration for $y_{k+1}$ and continue like that. Easy enough, the output $y$ when plotted against $t$ looks like this</p>
<img style="padding: 10px;" width="450" height="450" src="http://asuresh213.github.io/2021/05/14/dynamic/plot1.png">

<p>which as we all know is our good ol’ friend $\cos(t)$. Of course, you are more than welcome to change $f$ and obtain numerical solution to any nice function you can think of.</p>
<p>Here is a <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=aPQY__2H3tE">very nice video</a> on how to approach Dynamic programming problems in general. I also found <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=oBt53YbR9Kk">this walkthrough</a> helpful in illustrating how to structure a good DP code (a well structured code is half debugging done). Finally, I recommend checking out <a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/dynamic-programming">these problems</a> if you want to practice some more.</p>
<p>For now, I will leave you with a couple of exercises to try and play around with for yourself.</p>
<h2 id="Exercises"><a href="#Exercises" class="headerlink" title="Exercises"></a>Exercises</h2><p><font style="color:#00b5d9;"><strong>Exercise 1:</strong></font> In the recursive Fibonacci algorithm without DP, prove that the number of function calls to calculate <code>fib(i)</code> is $F_{n-i+1}$ for all $i \geq 2$.</p>
<p><font style="color:#00b5d9;"><strong>Exercise 2:</strong></font> What happens in the third DP example if $f$ is discontinuous in the given domain? Say $f$ is piecewise with pieces $f_1$ in $[0,T_1)$ and $f_2$ in $[T_1, T_2]$. Does the solution $y(t)$ looks like it would converge to the piecewise function with pieces $y_1$ in $[0,T_1)$ and $y_2$  in $[T_1, T_2]$ ? If so, can you prove this mathematically?</p>
<p><font style="color:#00b5d9;"><strong>Exercise 3:</strong></font> Construct the first $n$ terms of the Newman-Conway sequence defined as<br>$$P(n) = P(P(n-1)) + P(n-P(n - 1))$$<br>where $P(1)=P(2)=1$.</p>
<hr>
<p>As a reward for making through this blog post, here is a funny cartoon from xkcd (funny if and only if you are familiar with the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Travelling_salesman_problem">travelling salesman problem</a>.)</p>
<img style="padding: 10px;" width="450" height="450" src="http://asuresh213.github.io/2021/05/14/dynamic/joke3.png">
<div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;">I did not actually wait for the answer, I lost patience after 10 minutes.</span><a href="#fnref:1" rev="footnote"> ↩</a></li></ol></div></div>
  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="http://github.com/asuresh213">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Recursive-programming"><span class="toc-number">1.</span> <span class="toc-text">Recursive programming</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Dynamic-Programming"><span class="toc-number">2.</span> <span class="toc-text">Dynamic Programming</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercises"><span class="toc-number">3.</span> <span class="toc-text">Exercises</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2021/05/14/dynamic/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2021/05/14/dynamic/&text=A crash course on recursive and dynamic programming"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2021/05/14/dynamic/&title=A crash course on recursive and dynamic programming"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2021/05/14/dynamic/&is_video=false&description=A crash course on recursive and dynamic programming"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=A crash course on recursive and dynamic programming&body=Check out this article: http://example.com/2021/05/14/dynamic/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2021/05/14/dynamic/&title=A crash course on recursive and dynamic programming"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2021/05/14/dynamic/&title=A crash course on recursive and dynamic programming"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2021/05/14/dynamic/&title=A crash course on recursive and dynamic programming"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2021/05/14/dynamic/&title=A crash course on recursive and dynamic programming"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2021/05/14/dynamic/&name=A crash course on recursive and dynamic programming&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2021/05/14/dynamic/&t=A crash course on recursive and dynamic programming"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2021
    Arun Suresh
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="http://github.com/asuresh213">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->


</body>
</html>
